[{"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\index.js":"1","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\App.js":"2","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\reducers\\index.js":"3","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\screens\\ProjectsScreen.js":"4","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\screens\\RegisterScreen.js":"5","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\screens\\DashboardScreen.js":"6","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\screens\\DatasetScreen.js":"7","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\screens\\LoginScreen.js":"8","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\components\\NavBar.js":"9","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\reducers\\authReducer.js":"10","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\actions\\index.js":"11","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\components\\ProjectTable.js":"12","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\components\\CreateHardware.js":"13","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\components\\HardwareTable.js":"14","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\components\\CreateProject.js":"15"},{"size":547,"mtime":1617933644198,"results":"16","hashOfConfig":"17"},{"size":1167,"mtime":1618446860665,"results":"18","hashOfConfig":"17"},{"size":146,"mtime":1617933644200,"results":"19","hashOfConfig":"17"},{"size":4831,"mtime":1618519571661,"results":"20","hashOfConfig":"17"},{"size":5605,"mtime":1618451805124,"results":"21","hashOfConfig":"17"},{"size":400,"mtime":1618446860668,"results":"22","hashOfConfig":"17"},{"size":6513,"mtime":1618446860668,"results":"23","hashOfConfig":"17"},{"size":3112,"mtime":1618446860669,"results":"24","hashOfConfig":"17"},{"size":2515,"mtime":1618448844231,"results":"25","hashOfConfig":"17"},{"size":181,"mtime":1617933644199,"results":"26","hashOfConfig":"17"},{"size":187,"mtime":1618446860666,"results":"27","hashOfConfig":"17"},{"size":4071,"mtime":1618515587982,"results":"28","hashOfConfig":"17"},{"size":4197,"mtime":1618518117569,"results":"29","hashOfConfig":"17"},{"size":2988,"mtime":1618518078024,"results":"30","hashOfConfig":"17"},{"size":4296,"mtime":1618515587980,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1ar6jcc",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"34"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"34"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"34"},"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\index.js",[],["66","67"],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\App.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\reducers\\index.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\screens\\ProjectsScreen.js",["68"],"import React, { useState, useEffect } from 'react';\r\nimport {\r\n  AppBar,\r\n  Button,\r\n  Grid,\r\n  Typography,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent\r\n} from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nimport CreateProject from '../components/CreateProject';\r\nimport CreateHardware from '../components/CreateHardware';\r\nimport ProjectTable from '../components/ProjectTable';\r\nimport HardwareTable from '../components/HardwareTable';\r\n\r\nconst ProjectsScreen = props => {\r\n  const [projects, setProjects] = useState([]);\r\n  const [hardwares, setHardwares] = useState([]);\r\n  const [openedProject, setOpenedProject] = useState({});\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [openedProjectHardware, setOpenedProjectHardware] = useState([]);\r\n\r\n  const onOpenProject = async project => {\r\n    await axios.get('/api/hardware/all').then(hardware => {\r\n      setHardwares(hardware.data);\r\n    });\r\n    const projectHardwareIds = project.checkedOut.map(\r\n      element => element.hardware\r\n    );\r\n    const hardwareIds = hardwares.map(element => element._id);\r\n    let missingIds = [];\r\n    let missingHardwareSets = [];\r\n\r\n    hardwareIds.forEach(id => {\r\n      if (!projectHardwareIds.includes(id)) {\r\n        missingIds.push(id);\r\n      }\r\n    });\r\n    missingIds.forEach(id => {\r\n      hardwares.forEach(hardware => {\r\n        if (id === hardware._id) {\r\n          missingHardwareSets.push(hardware);\r\n        }\r\n      });\r\n    });\r\n\r\n    if (missingHardwareSets) {\r\n      const checkedOut = await axios.post('/api/checked/create', {\r\n        hardwareSets: missingHardwareSets\r\n      });\r\n      const checkedOutArray = project.checkedOut;\r\n      checkedOut.data.forEach(data => checkedOutArray.push(data));\r\n      await axios.post('/api/projects/addHardware', {\r\n        checkedOut: checkedOutArray,\r\n        id: project._id\r\n      });\r\n    }\r\n    setOpenModal(true);\r\n    setOpenedProject(project);\r\n    let hardwareArray = project.checkedOut.map(async ({ _id }) => {\r\n      let hardware = await axios.get('/api/checked/hardware/' + _id);\r\n      return hardware.data[0];\r\n    });\r\n    await Promise.all(hardwareArray).then(res => setOpenedProjectHardware(res));\r\n  };\r\n  const renderHardwareSets = () => {\r\n    let res = [];\r\n    openedProjectHardware.forEach(element => {\r\n      res.push(\r\n        <>\r\n          <Typography align='center'>{element.hardware.name}</Typography>\r\n          <Typography align='center'>\r\n            Checked out: {element.checkedOut}\r\n          </Typography>\r\n        </>\r\n      );\r\n    });\r\n    return res;\r\n  };\r\n  useEffect(async () => {\r\n    await axios.get('/api/projects/all').then(projects => {\r\n      setProjects(projects.data);\r\n    });\r\n    await axios.get('/api/hardware/all').then(hardware => {\r\n      setHardwares(hardware.data);\r\n    });\r\n  }, [props.auth]);\r\n  return (\r\n    <Grid container spacing={1}>\r\n      {!props.auth ? <Redirect to='/login' /> : <Redirect to='/projects' />}\r\n\r\n      <Grid container item xs={12} spacing={3}>\r\n        <React.Fragment>\r\n          <Grid item xs={4}>\r\n            <CreateProject />\r\n            {props.auth && props.auth.admin && <CreateHardware />}\r\n          </Grid>\r\n          <Grid item xs={8}>\r\n            <ProjectTable projects={projects} onOpenProject={onOpenProject} />\r\n            {props.auth && props.auth.admin && (\r\n              <HardwareTable hardwares={hardwares} />\r\n            )}\r\n          </Grid>\r\n        </React.Fragment>\r\n      </Grid>\r\n\r\n      {openModal ? (\r\n        <Dialog\r\n          maxWidth='md'\r\n          fullWidth\r\n          open={openModal}\r\n          onClose={() => setOpenModal(false)}\r\n          aria-labelledby='form-dialog-title'\r\n        >\r\n          <AppBar\r\n            position='static'\r\n            style={{\r\n              paddingTop: '1rem',\r\n              paddingBottom: '1rem',\r\n              alignItems: 'center'\r\n            }}\r\n          >\r\n            <Typography align='center'>\r\n              {openedProject.projectName} - {openedProject.creator}\r\n            </Typography>\r\n          </AppBar>\r\n          <DialogContent>\r\n            <Typography align='center'>{openedProject.description}</Typography>\r\n          </DialogContent>\r\n          <DialogContent>{renderHardwareSets()}</DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() => setOpenModal(false)} color='primary'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={() => setOpenModal(false)} color='primary'>\r\n              Make Changes\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      ) : null}\r\n    </Grid>\r\n  );\r\n};\r\nconst mapStateToProps = state => {\r\n  return { auth: state.auth };\r\n};\r\nexport default connect(mapStateToProps)(ProjectsScreen);\r\n","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\screens\\RegisterScreen.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\screens\\DashboardScreen.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\screens\\DatasetScreen.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\screens\\LoginScreen.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\components\\NavBar.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\reducers\\authReducer.js",["69"],"export default function(state = null, action) {\r\n  switch (action.type) {\r\n    case 'FETCH_USER':\r\n      return action.payload || false;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\actions\\index.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\components\\ProjectTable.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\components\\CreateHardware.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\components\\HardwareTable.js",[],"C:\\Harish\\Electrical Engineering\\EE 461L\\project-ryde\\frontend\\src\\components\\CreateProject.js",["70"],"import React, { useState, useEffect } from 'react';\r\nimport {\r\n  AppBar,\r\n  IconButton,\r\n  Button,\r\n  Snackbar,\r\n  Typography,\r\n  Paper,\r\n  TextField\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AddToPhotosIcon from '@material-ui/icons/AddToPhotos';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2)\r\n  }\r\n}));\r\nconst CreateProject = props => {\r\n  const classes = useStyles();\r\n\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const errorMessage = 'Please fill out all fields.';\r\n  const successMessage = 'Project created!';\r\n  const [successSnackbarOpen, setSuccessSnackbarOpen] = useState(false);\r\n  const [errorSnackbarOpen, setErrorSnackbarOpen] = useState(false);\r\n\r\n  const [hardwareSets, setHardwareSets] = useState([]);\r\n  useEffect(async () => {\r\n    const res = await axios.get('/api/hardware/all');\r\n    setHardwareSets(res.data);\r\n  }, [props.auth]);\r\n  const handleOnSubmit = async () => {\r\n    if (name !== '' && description !== '') {\r\n      const checkedOut = await axios.post('/api/checked/create', {\r\n        hardwareSets\r\n      });\r\n      await axios.post('/api/projects/create', {\r\n        projectName: name,\r\n        description,\r\n        checkedOut: checkedOut.data,\r\n        creator: props.auth.email\r\n      });\r\n      setName('');\r\n      setDescription('');\r\n      setSuccessSnackbarOpen(true);\r\n    } else {\r\n      setErrorSnackbarOpen(true);\r\n    }\r\n  };\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <AppBar\r\n        position='static'\r\n        style={{\r\n          paddingTop: '0.5rem',\r\n          paddingBottom: '0.5rem',\r\n          alignItems: 'center'\r\n        }}\r\n      >\r\n        <Typography variant='h6'>Create New Project</Typography>\r\n      </AppBar>\r\n\r\n      <TextField\r\n        variant='filled'\r\n        margin='normal'\r\n        required\r\n        id='Project Name'\r\n        label='Project Name'\r\n        name='Project Name'\r\n        style={{ width: '75%' }}\r\n        value={name}\r\n        onChange={e => setName(e.target.value)}\r\n      />\r\n      <TextField\r\n        variant='filled'\r\n        margin='normal'\r\n        required\r\n        id='Project Description'\r\n        label='Project Description'\r\n        name='Project Description'\r\n        style={{ width: '75%' }}\r\n        value={description}\r\n        onChange={e => setDescription(e.target.value)}\r\n      />\r\n      <Button\r\n        onClick={handleOnSubmit}\r\n        style={{ paddingTop: 15, paddingBottom: 15 }}\r\n      >\r\n        Create New Project <AddToPhotosIcon />\r\n      </Button>\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left'\r\n        }}\r\n        open={successSnackbarOpen}\r\n        autoHideDuration={3000}\r\n        onClose={() => setSuccessSnackbarOpen(false)}\r\n        message={successMessage}\r\n        action={\r\n          <React.Fragment>\r\n            <IconButton\r\n              size='small'\r\n              aria-label='close'\r\n              color='inherit'\r\n              onClick={() => setSuccessSnackbarOpen(false)}\r\n            >\r\n              <CloseIcon fontSize='small' />\r\n            </IconButton>\r\n          </React.Fragment>\r\n        }\r\n      />\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left'\r\n        }}\r\n        open={errorSnackbarOpen}\r\n        autoHideDuration={3000}\r\n        onClose={() => setErrorSnackbarOpen(false)}\r\n        message={errorMessage}\r\n        action={\r\n          <React.Fragment>\r\n            <IconButton\r\n              size='small'\r\n              aria-label='close'\r\n              color='inherit'\r\n              onClick={() => setErrorSnackbarOpen(false)}\r\n            >\r\n              <CloseIcon fontSize='small' />\r\n            </IconButton>\r\n          </React.Fragment>\r\n        }\r\n      />\r\n    </Paper>\r\n  );\r\n};\r\nconst mapStateToProps = state => {\r\n  return { auth: state.auth };\r\n};\r\nexport default connect(mapStateToProps)(CreateProject);\r\n",{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":83,"column":13,"nodeType":"77","endLine":90,"endColumn":4},{"ruleId":"78","severity":1,"message":"79","line":1,"column":1,"nodeType":"80","endLine":8,"endColumn":2},{"ruleId":"75","severity":1,"message":"76","line":39,"column":13,"nodeType":"77","endLine":42,"endColumn":4},"no-native-reassign",["81"],"no-negated-in-lhs",["82"],"react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]